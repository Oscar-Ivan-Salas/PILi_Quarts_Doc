# üìú Skill de Generaci√≥n Maestra: El Sello de Piedra (R.A.L.F.T.H.)

> **Directiva Suprema**: "Fidelidad Absoluta. El bit que sale del servidor debe ser indistinguible del papel firmado por un ingeniero colegiado."
> **Calidad**: Solo se permite la liberaci√≥n de c√≥digo que pase la Matriz 6x3 sin errores.

## 1. El Protocolo R.A.L.F.H.

### **R - Refine (Refinamiento)**
*   **Logos**: Alta resoluci√≥n, posicionamiento absoluto (X,Y) en PDF. No pixelaci√≥n.
*   **Firmas**: Integraci√≥n vectorial o imagen de alta calidad.

### **A - Analyze (An√°lisis)**
*   **Estructura**: Validaci√≥n estricta contra esquemas PMI/Electricidad.
*   **Datos**: Tipos de datos fuertes (Float para moneda). Unidades (m¬≤, S/, $) obligatorias.

### **L - Learn (Aprendizaje)**
*   **Estilo**: Respeto absoluto a la identidad visual del usuario (Colores Tesla, Fuentes Corporativas).

### **F - Faithfulness (Fidelidad "Espejo Total")**
*   **Visual**: HTML Preview == Output Binario.
*   **T√©cnica**: Tablas `openpyxl` con bordes y estilos reales. PDF `ReportLab` con layouts de tablas anidadas.

### **H - Hybrid (Motor H√≠brido)**
*   **Word/Excel**: Motores Nativos (`python-docx`, `openpyxl`) para editabilidad.
*   **PDF**: Renderizado Directo (`ReportLab`) para precisi√≥n milim√©trica.

---

## 2. La Matriz de Validaci√≥n 6x3

Para certificar cualquier versi√≥n, el sistema debe generar **18 Archivos Perfectos**:

| MODELO (6)      | WORD | EXCEL | PDF | REQUISITO CR√çTICO |
| :---            | :---:| :---: | :---:| :--- |
| Cot. Simple     | ‚úÖ   | ‚úÖ    | ‚úÖ   | Logo + IGV 18% |
| Cot. Compleja   | ‚úÖ   | ‚úÖ    | ‚úÖ   | APU Desglosado |
| Proy. Simple    | ‚úÖ   | ‚úÖ    | ‚úÖ   | Cronograma B√°sico |
| Proy. Complejo  | ‚úÖ   | ‚úÖ    | ‚úÖ   | Dashboard KPI + Riesgos |
| Inf. T√©cnico    | ‚úÖ   | ‚úÖ    | ‚úÖ   | Formato Ingenier√≠a Tesla |
| Inf. Ejecutivo  | ‚úÖ   | ‚úÖ    | ‚úÖ   | Normas APA |

### **Reglas de Zonificaci√≥n (Excel R.A.L.F.T.H.)**
*   **Zona 1 (Filas 1-9):** Branding Obligatorio. Logo flotante (B2) + Datos Empresa (E2). **PROHIBIDO** escribir datos t√©cnicos aqu√≠.
*   **Zona 2 (Filas 10-16):** Datos del Cliente. Inyecci√≥n din√°mica de metadatos.
*   **Zona 3 (Fila 17+):** Cuerpo T√©cnico. Alcance, Tablas y Cronogramas.
*   **Zona 3 (Fila 17+):** Cuerpo T√©cnico. Alcance, Tablas y Cronogramas.
*   **Regla de Oro:** "Todo contenido t√©cnico debe tener un row_offset m√≠nimo de 8 filas respecto al encabezado".

### **Protocolo V10: "The Mirror" (Maquetaci√≥n)**
*   **Grid System**: Uso de 12 Columnas (A-L) para distribuci√≥n proporcional.
*   **Wrap Text**: Texto enriquecido activado por defecto en descripciones.
*   **Freeze Panes**: Encabezado inmovilizado (A10) para mantener identidad visible.
*   **Universal Renderer**: Soporte nativo para `.portada`, `.seccion`, `.kpis-grid`, `.gantt` y `.raci`.
*   **Full Scope**: Los 6 modelos deben tener contenido, no solo las cotizaciones.
*   **Tri-Brid Output**: Node N04 debe ser capaz de generar XLSX (Universal), DOCX (Mirror), y PDF (ReportLab) bajo demanda.

### Procedimiento de Certificaci√≥n

1.  **Ejecutar Validator**: `python modules/N04_Binary_Factory/validate_mirror.py`
2.  **Verificar 18 Archivos**: Asegurar que existen 3 archivos (XLSX, DOCX, PDF) por cada uno de los 6 modelos.
3.  **Inspecci√≥n Visual**: Abrir al menos un Proyeco y un Informe para verificar el "Llenado".
4.  **Resultado**: 18/18 √âxito = **RELEASE CANDIDATE**.

---

**Estado del Skill**: PROTEGIDO POR LEY DE INGENIER√çA.
**Versi√≥n**: 1.0 (Sello de Piedra)
